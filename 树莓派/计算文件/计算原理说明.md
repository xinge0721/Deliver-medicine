# 数字识别评估系统计算原理说明

## 1. 背景

本评估系统用于测试YOLO模型对数字识别的准确性。系统针对数字0-8的测试图片，每张图片包含80个预期目标，并处理了训练过程中出现的标签错位问题。

## 2. 标签错位问题

在训练过程中出现了标签错位现象：
- 数字0和数字1的标签正确对应（类别ID为0和1）
- 数字2及以后的标签都错位+1，具体映射关系如下：
  - 数字0 → 类别ID 0
  - 数字1 → 类别ID 1
  - 数字2 → 类别ID 3（不是2）
  - 数字3 → 类别ID 4（不是3）
  - 数字4 → 类别ID 5（不是4）
  - 以此类推

## 3. 主要计算指标

### 3.1 识别率

识别率衡量模型检测到的目标数量与预期目标数量的比例：

```
识别率 = (检测到的目标数 / 预期目标数) × 100%
```

- 识别率 = 100%：模型检测到的目标数量正好等于预期数量
- 识别率 > 100%：过度检测，模型检测到了超过预期的目标数量（假阳性）
- 识别率 < 100%：欠检测，模型没有检测到所有预期目标（假阴性）

### 3.2 正确分类率

正确分类率衡量模型正确识别目标类别的能力：

```
正确分类率 = (正确分类的目标数 / 总检测目标数) × 100%
```

正确分类意味着模型不仅检测到了目标，还将其分类为正确的数字类别（考虑标签错位）。

### 3.3 过度检测和欠检测

- **过度检测**：检测到的目标数超过预期数量的差值
  ```
  过度检测 = max(0, 检测到的目标数 - 预期目标数)
  ```

- **欠检测**：未检测到的预期目标数量
  ```
  欠检测 = max(0, 预期目标数 - 检测到的目标数)
  ```

### 3.4 误分类分析

系统还计算每个误分类类别的占比：

```
误分类比例 = (被错误分类为某类别的目标数 / 总检测目标数) × 100%
```

## 4. 评估流程

1. **多次测试**：每张图片测试10次，减少随机性影响
2. **置信度筛选**：使用置信度阈值(0.25)过滤低质量检测
3. **类别统计**：统计每个检测到的目标的类别ID
4. **计算指标**：综合计算识别率、正确分类率等指标
5. **误分类分析**：分析主要误分类模式，如"数字4被误识别为数字6"

## 5. 标准差的含义

标准差反映了多次测试结果的一致性。较低的标准差表示模型的检测结果更稳定，不同测试间的变化较小。

## 6. 结果解读

- **识别率过高(>100%)**：可能存在重复检测或误检测
- **正确分类率低**：模型难以区分不同类别的数字
- **特定类别错误模式**：如果某些数字经常被误分类为其他特定数字（如数字4经常被误识别为数字6），说明这些数字的特征在模型中存在混淆

## 7. 改进建议

1. **重新训练**：修正标签错位问题，确保类别ID与数字正确对应
2. **数据增强**：增加容易混淆的数字样本（如4和6）
3. **调整置信度阈值**：提高阈值可能减少误识别，但也可能增加漏检
4. **分析特征提取**：研究为何某些数字容易混淆，可能需要改进特征提取层 